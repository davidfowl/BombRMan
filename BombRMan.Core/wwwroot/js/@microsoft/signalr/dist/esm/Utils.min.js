/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/@microsoft/signalr@6.0.4/dist/esm/Utils.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{LogLevel}from"./ILogger";import{NullLogger}from"./Loggers";export const VERSION="6.0.4";export class Arg{static isRequired(e,t){if(null==e)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(e,t){if(!e||e.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(e,t,r){if(!(e in t))throw new Error(`Unknown ${r} value: ${e}.`)}}export class Platform{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&void 0===window.document}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}export function getDataDetail(e,t){let r="";return isArrayBuffer(e)?(r=`Binary data of length ${e.byteLength}`,t&&(r+=`. Content: '${formatArrayBuffer(e)}'`)):"string"==typeof e&&(r=`String data of length ${e.length}`,t&&(r+=`. Content: '${e}'`)),r}export function formatArrayBuffer(e){const t=new Uint8Array(e);let r="";return t.forEach((e=>{r+=`0x${e<16?"0":""}${e.toString(16)} `})),r.substr(0,r.length-1)}export function isArrayBuffer(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}export async function sendMessage(e,t,r,o,n,s,i){let a={};if(n){const e=await n();e&&(a={Authorization:`Bearer ${e}`})}const[c,u]=getUserAgentHeader();a[c]=u,e.log(LogLevel.Trace,`(${t} transport) sending data. ${getDataDetail(s,i.logMessageContent)}.`);const l=isArrayBuffer(s)?"arraybuffer":"text",f=await r.post(o,{content:s,headers:{...a,...i.headers},responseType:l,timeout:i.timeout,withCredentials:i.withCredentials});e.log(LogLevel.Trace,`(${t} transport) request complete. Response status: ${f.statusCode}.`)}export function createLogger(e){return void 0===e?new ConsoleLogger(LogLevel.Information):null===e?NullLogger.instance:void 0!==e.log?e:new ConsoleLogger(e)}export class SubjectSubscription{constructor(e,t){this._subject=e,this._observer=t}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch((e=>{}))}}export class ConsoleLogger{constructor(e){this._minLevel=e,this.out=console}log(e,t){if(e>=this._minLevel){const r=`[${(new Date).toISOString()}] ${LogLevel[e]}: ${t}`;switch(e){case LogLevel.Critical:case LogLevel.Error:this.out.error(r);break;case LogLevel.Warning:this.out.warn(r);break;case LogLevel.Information:this.out.info(r);break;default:this.out.log(r)}}}}export function getUserAgentHeader(){let e="X-SignalR-User-Agent";return Platform.isNode&&(e="User-Agent"),[e,constructUserAgent("6.0.4",getOsName(),getRuntime(),getRuntimeVersion())]}export function constructUserAgent(e,t,r,o){let n="Microsoft SignalR/";const s=e.split(".");return n+=`${s[0]}.${s[1]}`,n+=` (${e}; `,n+=t&&""!==t?`${t}; `:"Unknown OS; ",n+=`${r}`,n+=o?`; ${o}`:"; Unknown Runtime Version",n+=")",n}function getOsName(){if(!Platform.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function getRuntimeVersion(){if(Platform.isNode)return process.versions.node}function getRuntime(){return Platform.isNode?"NodeJS":"Browser"}export function getErrorString(e){return e.stack?e.stack:e.message?e.message:`${e}`}export function getGlobalThis(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("could not find global")}
//# sourceMappingURL=/sm/4ea23acb3f2aade4f5061c5c8b8318d40d76ce86e90e9d51c3f7a7bca3db2b0e.map