/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/@microsoft/signalr@6.0.4/dist/esm/HubConnectionBuilder.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{DefaultReconnectPolicy}from"./DefaultReconnectPolicy";import{HttpConnection}from"./HttpConnection";import{HubConnection}from"./HubConnection";import{LogLevel}from"./ILogger";import{JsonHubProtocol}from"./JsonHubProtocol";import{NullLogger}from"./Loggers";import{Arg,ConsoleLogger}from"./Utils";const LogLevelNameMapping={trace:LogLevel.Trace,debug:LogLevel.Debug,info:LogLevel.Information,information:LogLevel.Information,warn:LogLevel.Warning,warning:LogLevel.Warning,error:LogLevel.Error,critical:LogLevel.Critical,none:LogLevel.None};function parseLogLevel(o){const e=LogLevelNameMapping[o.toLowerCase()];if(void 0!==e)return e;throw new Error(`Unknown log level: ${o}`)}export class HubConnectionBuilder{configureLogging(o){if(Arg.isRequired(o,"logging"),isLogger(o))this.logger=o;else if("string"==typeof o){const e=parseLogLevel(o);this.logger=new ConsoleLogger(e)}else this.logger=new ConsoleLogger(o);return this}withUrl(o,e){return Arg.isRequired(o,"url"),Arg.isNotEmpty(o,"url"),this.url=o,this.httpConnectionOptions="object"==typeof e?{...this.httpConnectionOptions,...e}:{...this.httpConnectionOptions,transport:e},this}withHubProtocol(o){return Arg.isRequired(o,"protocol"),this.protocol=o,this}withAutomaticReconnect(o){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return o?Array.isArray(o)?this.reconnectPolicy=new DefaultReconnectPolicy(o):this.reconnectPolicy=o:this.reconnectPolicy=new DefaultReconnectPolicy,this}build(){const o=this.httpConnectionOptions||{};if(void 0===o.logger&&(o.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const e=new HttpConnection(this.url,o);return HubConnection.create(e,this.logger||NullLogger.instance,this.protocol||new JsonHubProtocol,this.reconnectPolicy)}}function isLogger(o){return void 0!==o.log}
//# sourceMappingURL=/sm/895eb89fb0d1e90205e6a154f66fdbcc0091eed9c715803a1c80391a060e9ec4.map